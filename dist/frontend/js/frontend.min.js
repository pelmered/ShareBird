(function(t){var n="socialjs";function e(e,o){var i=e;var r=t(e);var a=0;var u=0;var s=0;var c=0;var d=0;var f=0;var l=0;o=t.extend({},t.fn[n].defaults,o);function h(){p();B("onInit")}function p(){r.find(".sharebutton").each(function(n){if(t(this).data("sharetype")==="twitter"){x(this);if(o.fetchCounts){y(this)}}else if(t(this).data("sharetype")==="facebook"){P(this);if(o.fetchCounts){g(this)}}else if(t(this).data("sharetype")==="linkedin"){b(this);if(o.fetchCounts){C(this)}}else if(t(this).data("sharetype")==="googleplus"){R(this);if(o.fetchCounts){I(this)}}else if(t(this).data("sharetype")==="reddit"){j(this);if(o.fetchCounts){m(this)}}w()})}function w(){t(document).ajaxStop(function(){B("onLoad")})}function v(n){t.ajax({url:o.PinterestAPIProvider+"?url="+D(n),async:true,dataType:"text"}).done(function(e){var o=A(n)+parseInt(e,10);t(n).find(".count").html(k(o));a=a+o;f=o})}function m(n){t.ajax({url:"http://www.reddit.com/api/info.json?url="+D(n),async:true,dataType:"json"}).done(function(e){var o=0;if(!t.isArray(e.data.children)||!e.data.children.length){o=A(n);t(n).find(".count").html(k(o));a=a+o;l=o}else{o=A(n)+parseInt(e.data.children[0].data.score,10);t(n).find(".count").html(k(o));a=a+o;l=o}})}function g(n){t.ajax({url:"http://graph.facebook.com/?id="+D(n),async:true,dataType:"json"}).done(function(e){var o=0;if(typeof e.shares!=="undefined"){o=A(n)+parseInt(e.shares,10);t(n).find(".count").html(k(o));a=a+o;s=o}else{o=A(n);t(n).find(".count").html(k(o));a=a+o;s=o}})}function y(n){t.ajax({url:"http://cdn.api.twitter.com/1/urls/count.json?url="+D(n)+"&callback=?",async:true,dataType:"json"}).done(function(e){var o=A(n)+parseInt(e.count,10);t(n).find(".count").html(k(o));a=a+o;u=o})}function C(n){t.ajax({url:"http://www.linkedin.com/countserv/count/share?url="+D(n)+"&callback=?",async:true,dataType:"json"}).done(function(e){var o=A(n)+parseInt(e.count,10);t(n).find(".count").html(k(o));a=a+o;c=o})}function I(n){t.ajax({url:o.GooglePlusAPIProvider+"?url="+D(n),async:true,dataType:"text"}).done(function(e){var o=A(n)+parseInt(e,10);t(n).find(".count").html(k(o));a=a+o;d=o})}function k(t){if(o.shortCount){if(t>=1e6){t=parseInt((t/1e6).toFixed(2),10)+"M"}else if(t>=1e3){t=parseInt((t/1e3).toFixed(1),10)+"k"}}return t}function P(n){t(n).on("click",function(t){t.preventDefault();B("onClick");var n=D(this);var e="u="+encodeURIComponent(n);var o=encodeURIComponent(n);window.facebook=window.facebook||{};window.facebook.shareWin=window.open("https://www.facebook.com/sharer/sharer.php?"+e,"",W());return false})}function b(n){t(n).on("click",function(t){t.preventDefault();B("onClick");var n=_(this);var e=D(this);var o="original_referer="+encodeURIComponent(n)+"&url="+encodeURIComponent(e);var i=encodeURIComponent(e);window.GooglePlus=window.GooglePlus||{};window.GooglePlus.shareWin=window.open("https://www.linkedin.com/cws/share?"+o+"&isFramed=true","",W());return false})}function j(n){t(n).on("click",function(t){t.preventDefault();B("onClick");var n=D(this);var e="url="+encodeURIComponent(n);var o=encodeURIComponent(n);window.Reddit=window.Reddit||{};window.Reddit.shareWin=window.open("http://www.reddit.com/submit?"+e,"",W());return false})}function R(n){t(n).on("click",function(t){t.preventDefault();B("onClick");var n=G(this);var e=D(this);var o="text="+encodeURIComponent(n)+"&url="+encodeURIComponent(e);var i=encodeURIComponent(e);window.GooglePlus=window.GooglePlus||{};window.GooglePlus.shareWin=window.open("https://plus.google.com/share?"+o,"",W());return false})}function x(n){t(n).on("click",function(t){t.preventDefault();B("onClick");var n=G(this);var e=D(this);var o=U(this);var i=T(this);var r="text="+encodeURIComponent(n)+"&url="+encodeURIComponent(e)+"&via="+o+"&related="+i;var a=encodeURIComponent(e);window.Twitter=window.Twitter||{};window.Twitter.shareWin=window.open("https://twitter.com/intent/tweet?"+r,"",W());return false})}function U(n){if(typeof t(n).data("via")!=="undefined"){return t(n).data("via")}else{return""}}function G(n){if(typeof t(n).data("text")!=="undefined"){return t(n).data("text")}else{return""}}function T(n){if(typeof t(n).data("related")!=="undefined"){return t(n).data("related")}else{return""}}function D(n){if(typeof t(n).data("url")!=="undefined"){return t(n).data("url")}else{return document.URL}}function _(n){if(typeof t(n).data("referer")!=="undefined"){return t(n).data("referer")}else{return""}}function A(n){if(typeof t(n).data("basecount")!=="undefined"){return t(n).data("basecount")}else{return 0}}function W(){var t=550,n=335,e=screen.height,o=screen.width,i=Math.round(o/2-t/2),r=0,a=document;if(e>n){r=Math.round(e/2-n/2)}return"left="+i+",top="+r+",width="+t+",height="+n+",personalbar=0,toolbar=0,scrollbars=1,resizable=1"}function F(){return a}function L(){return s}function M(){return u}function Q(){return c}function z(){return d}function E(){return l}function S(t,n){if(n){o[t]=n}else{return o[t]}}function q(){r.each(function(){var e=this;var o=t(this);B("onDestroy");o.removeData("plugin_"+n)})}function B(t){if(o[t]!==undefined){o[t].call(i)}}h();return{option:S,destroy:q,getTotalCount:F,getFacebookCount:L,getGooglePlusCount:z,getLinkedinCount:Q,getTwitterCount:M,getRedditCount:E}}t.fn[n]=function(o){if(typeof arguments[0]==="string"){var i=arguments[0];var r=Array.prototype.slice.call(arguments,1);var a;this.each(function(){if(t.data(this,"plugin_"+n)&&typeof t.data(this,"plugin_"+n)[i]==="function"){a=t.data(this,"plugin_"+n)[i].apply(this,r)}else{throw new Error("Method "+i+" does not exist on jQuery."+n)}});if(a!==undefined){return a}else{return this}}else if(typeof o==="object"||!o){return this.each(function(){if(!t.data(this,"plugin_"+n)){t.data(this,"plugin_"+n,new e(this,o))}})}};t.fn[n].defaults={fetchCounts:true,GooglePlusAPIProvider:"backend/GooglePlusCall.php",shortCount:true,onInit:function(){},onLoad:function(){},onDestroy:function(){},onClick:function(){}}})(jQuery);(function(t){"use strict";t(function(){t(".sharebird").socialjs({GooglePlusAPIProvider:sharebird_options.GooglePlusAPIProviderURI})})})(jQuery);